<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel</title>
    <link rel="stylesheet" href="style.css">
    <!-- FIX: Added favicon link to prevent 404 error -->
    <link rel="icon" href="/images/icons/icon-192x192.png">
</head>
<body>
    <div id="admin-container">
        <!-- Login Section -->
        <section id="login-section" class="admin-view active">
            <div class="form-container">
                <h2>Admin Login</h2>
                <input type="email" id="admin-email" placeholder="Email" required>
                <input type="password" id="admin-password" placeholder="Password" required>
                <!-- IMPORTANT: The JS needs this button with id="admin-login-btn" -->
                <button id="admin-login-btn">Login</button>
                <p id="login-error" class="error-message"></p>
            </div>
        </section>

        <!-- Dashboard Section -->
        <section id="dashboard-section" class="admin-view">
            <header id="admin-header">
                <h1>Dashboard</h1>
                <button id="admin-logout-btn">Logout</button>
            </header>
            <nav id="admin-nav">
                <button data-view="categories-view">Manage Categories</button>
                <button data-view="products-view">Manage Products</button>
                <button data-view="customers-view">View Customers</button>
                <button data-view="orders-view">Manage Orders</button>
            </nav>

            <main id="admin-main-content">
                <!-- Category Management -->
                <div id="categories-view" class="content-view">
                    <h3>Categories</h3>
                    <!-- IMPORTANT: The JS needs this form with id="category-form" -->
                    <form id="category-form" class="admin-form">
                        <input type="hidden" id="category-id">
                        <input type="text" id="category-name" placeholder="Category Name" required>
                        <button type="submit">Save Category</button>
                    </form>
                    <div id="category-list-container"></div>
                </div>

                <!-- Product Management -->
                <div id="products-view" class="content-view" style="display: none;">
                    <h3>Products</h3>
                    <!-- IMPORTANT: The JS needs this form with id="product-form" -->
                    <form id="product-form" class="admin-form">
                        <input type="hidden" id="product-id">
                        <input type="text" id="product-name" placeholder="Product Name" required>
                        <textarea id="product-description" placeholder="Description"></textarea>
                        
                        <input type="number" id="product-original-price" placeholder="Original Price (MRP, e.g., 1200)" step="0.01">
                        <input type="number" id="product-price" placeholder="Selling Price (e.g., 999)" step="0.01" required>
                        
                        <input type="text" id="product-image-url" placeholder="Image URL" required>
                        <input type="text" id="product-payment-link" placeholder="Razorpay Payment Link" required>
                        
                        <select id="product-category" required></select>
                        <button type="submit">Save Product</button>
                    </form>
                    <div id="product-list-container"></div>
                </div>

                <!-- Customer Management View -->
                <div id="customers-view" class="content-view" style="display: none;">
                    <h3>Customers / Leads</h3>
                    <div id="customer-list-container"></div>
                </div>

                <!-- Order Management -->
                <div id="orders-view" class="content-view" style="display: none;">
                    <h3>Orders</h3>
                    <div id="order-list-container"></div>
                </div>
            </main>
        </section>
    </div>

    <!-- The script tag MUST have type="module" -->
    <script type="module" src="admin.js"></script>
</body>
</html>
