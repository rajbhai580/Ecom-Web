<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aura Cosmetics</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#ffffff">
    <link rel="icon" href="/images/icons/icon-192x192.png">
</head>
<body>

    <!-- User Details Modal with NEW WORKING Avatar Links -->
    <div id="user-details-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h3>Welcome!</h3>
            <p>Please choose an avatar and enter your details.</p>
            <div class="avatar-chooser">
                <img src="https://i.postimg.cc/9MdxW95M/male-avatar.png" alt="Male Avatar" class="avatar-option selected" data-avatar="male">
                <img src="https://i.postimg.cc/nLpG5317/female-avatar.png" alt="Female Avatar" class="avatar-option" data-avatar="female">
            </div>
            <form id="user-details-form">
                <input type="text" id="user-name-input" placeholder="Enter your name" required>
                <input type="tel" id="user-phone-input" placeholder="Enter your phone number" required>
                <button type="submit">Save & Continue</button>
            </form>
        </div>
    </div>
    
    <!-- Search Bar (hidden by default) -->
    <div id="search-bar">
        <input type="text" id="search-input" placeholder="Search for products...">
        <button id="close-search-btn" class="icon-btn"><i class="fas fa-times"></i></button>
    </div>

    <div id="app-container">
        <!-- Home View -->
        <div id="home-view" class="view active">
            <header class="app-header">
                <div class="header-welcome">
                    <p>Welcome back,</p>
                    <h3 id="user-greeting-name">Guest</h3>
                </div>
                <div class="header-actions">
                    <img id="header-avatar" class="header-avatar" src="https://i.postimg.cc/9MdxW95M/male-avatar.png" alt="Avatar">
                    <button id="search-icon-btn" class="icon-btn"><i class="fas fa-search"></i></button>
                </div>
            </header>
            <main class="app-main">
                <section class="carousel-section">
                    <div id="promo-carousel" class="carousel-container"></div>
                    <div id="carousel-dots" class="carousel-dots"></div>
                </section>
                
                <section class="categories-section">
                    <div class="section-header">
                        <h4>Categories</h4>
                    </div>
                    <div id="category-list-short" class="horizontal-scroll"></div>
                </section>

                <section class="new-arrivals-section">
                    <div class="section-header">
                        <h4>New arrivals</h4>
                    </div>
                    <div id="product-grid" class="product-grid"></div>
                    <div id="no-products-message" class="hidden">
                        <p>No products found matching your criteria.</p>
                    </div>
                </section>
            </main>
        </div>

        <!-- Product Details View -->
        <div id="details-view" class="view hidden">
            <header class="app-header-condensed">
                <button class="icon-btn back-to-home"><i class="fas fa-arrow-left"></i></button>
                <h4>Product Details</h4>
                <div style="width: 40px;"></div>
            </header>
            <main class="app-main" id="product-detail-content"></main>
            <footer class="action-footer">
                <button class="icon-btn large-icon"><i class="far fa-heart"></i></button>
                <button class="btn-primary" id="buy-now-btn">Buy Now</button>
            </footer>
        </div>

        <!-- My Orders View -->
        <div id="orders-view" class="view hidden">
            <header class="app-header-condensed">
                <button class="icon-btn back-to-home"><i class="fas fa-arrow-left"></i></button>
                <h4>My Orders</h4>
                <div style="width: 40px;"></div>
            </header>
            <main class="app-main" id="customer-orders-list"></main>
        </div>

        <!-- Profile View -->
        <div id="profile-view" class="view hidden">
             <header class="app-header-condensed">
                <button class="icon-btn back-to-home"><i class="fas fa-arrow-left"></i></button>
                <h4>My Profile</h4>
                <div style="width: 40px;"></div>
            </header>
             <main class="app-main profile-main">
                <img id="profile-photo" src="https://i.postimg.cc/9MdxW95M/male-avatar.png" alt="Profile Photo" class="profile-photo">
                <div class="profile-details">
                    <div class="profile-details-row">
                        <strong>Name:</strong>
                        <span id="profile-name"></span>
                    </div>
                    <div class="profile-details-row">
                        <strong>Phone:</strong>
                        <span id="profile-phone"></span>
                    </div>
                </div>
                <button id="logout-btn" class="btn-secondary">Logout</button>
             </main>
        </div>
    </div>

    <!-- Bottom Navigation Bar -->
    <nav class="bottom-nav">
        <a href="#" class="nav-item active" data-view="home-view"><i class="fas fa-home"></i></a>
        <a href="#" class="nav-item" data-view="orders-view"><i class="fas fa-box"></i></a>
        <a href="#" class="nav-item" data-view="profile-view"><i class="fas fa-user"></i></a>
    </nav>

    <script type="module" src="firebase.js"></script>
    <script type="module" src="app.js"></script>
</body>
</html>
